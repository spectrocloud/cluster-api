namespace: capi-kubeadm-bootstrap-system

namePrefix: capi-kubeadm-bootstrap-

commonLabels:
  cluster.x-k8s.io/provider: "bootstrap-kubeadm"

#resources:
#  - ../../../bootstrap/kubeadm/config/default/namespace.yaml

bases:
#  - ../../../bootstrap/kubeadm/config/rbac
  - ../../../bootstrap/kubeadm/config/manager


patchesStrategicMerge:
  - ../../../bootstrap/kubeadm/config/default/manager_image_patch.yaml
  - ../../../bootstrap/kubeadm/config/default/manager_pull_policy.yaml


configurations:
  - ../../../bootstrap/kubeadm/config/default/kustomizeconfig.yaml

#
patchesJson6902:
  - target:
      group: apps
      kind: Deployment
      name: controller-manager
      namespace: system
      version: v1
    path: patch_service_account.yaml
  - target:
      group: apps
      kind: Deployment
      name: controller-manager
      namespace: system
      version: v1
    path: patch_healthcheck.yaml
#  - target:
#      group: rbac.authorization.k8s.io
#      kind: ClusterRoleBinding
#      name: manager-rolebinding
#      version: v1
#    path: patch_cluster_role_binding_ref.yaml
#  - target:
#      group: rbac.authorization.k8s.io
#      kind: RoleBinding
#      name: leader-election-rolebinding
#      version: v1
#    path: patch_role_binding_ref.yaml